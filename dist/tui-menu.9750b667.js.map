{"version":3,"sources":["tui-menu/index.js"],"names":["template","document","createElement","innerHTML","TuiMeny","filter","cities","city","continent","season","shadowRoot","attachShadow","mode","appendChild","content","cloneNode","button","querySelector","window","addEventListener","detail","filterData","data","current","Object","keys","reduce","acc","key","console","log","filtered","entries","value","fetch","setTimeout","dispatchEvent","CustomEvent","HTMLElement","customElements","define"],"mappings":"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","file":"tui-menu.9750b667.js","sourceRoot":"..","sourcesContent":["\nconst template = document.createElement('template');\ntemplate.innerHTML = `\n  <style>\n    .container {\n      padding: var(--main-padding, 68px);\n      background: var(--background-color, red);\n      color: var(--main-color, blue);\n    }\n  </style>\n  <div class=\"container\">\n    <input type=\"text\" id=\"search\" />\n    <button>Search</button>\n  </div>\n`;\n\nclass TuiMeny extends HTMLElement {\n  constructor() {\n    super();\n    this.filter = {};\n\n    this.cities = [\n      { city: 'Stockholm', continent: 'europe', season: 'summer' },\n      { city: 'New York', continent: 'north-america', season: 'winter' },\n      { city: 'Berlin', continent: 'europe', season: 'winter'},\n      { city: 'Tokyo', continent: 'asia', season: 'winter' },\n    ];\n\n    this.shadowRoot = this.attachShadow({ mode: 'open' });\n    this.shadowRoot.appendChild(template.content.cloneNode(true));\n    this.button = this.shadowRoot.querySelector('button');\n    \n    window.addEventListener('filter', ({ detail }) => {\n      this.filterData(detail);\n    });\n    \n    this.button.addEventListener('click', () => this.filterData(this.cities));\n    \n    this.filterData();\n  }\n\n  filterData(data){\n    const current = { ...this.filter, ...data };\n    const filterData = Object.keys(current).reduce((acc, key) => {\n      if (current[key]) {\n        acc = {\n          [key]: current[key]\n        }\n      }\n      return acc;\n    }, {});\n\n    this.filter = { ...this.filter, ...filterData };\n\n    console.log(this.filter)\n\n    const filtered = Object.entries(this.filter).reduce((acc, current) => {\n      const [key, value] = current;\n      const filtered = this.cities.reduce( (cities, city) => {\n        if(city[key] === value) {\n          cities = [...cities, city]\n        }\n        return cities;\n      }, acc);\n      acc = [...acc, ...filtered]\n      return acc\n    }, []);\n\n    console.log(filtered)\n\n    this.fetch(filtered);\n  }\n\n  fetch(data=this.cities) {\n    setTimeout(() => {\n      window.dispatchEvent(\n        new CustomEvent('cities', {\n          detail: data\n        })\n      );\n    }, 200)\n  }\n}\nwindow.customElements.define('tui-menu', TuiMeny);"]}